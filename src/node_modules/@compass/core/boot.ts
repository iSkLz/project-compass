import Core from "./core.js";
import { app } from "electron";

export default async function boot() {
    if (!app.isReady()) await app.whenReady();

    try {
        let core = new Core();
        await core.init();
        return core;
    } catch (ex) {
        // TODO: Use logger when that is coded
        // List of known errors:
        // - Bad JSON (mostly in IPC handlers)
        app.exit(-1);
    }
};